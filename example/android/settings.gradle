pluginManagement { includeBuild("../node_modules/@react-native/gradle-plugin") }
plugins { id("com.facebook.react.settings") }
extensions.configure(com.facebook.react.ReactSettingsExtension){ ex -> ex.autolinkLibrariesFromCommand() }
rootProject.name = 'nitroscreenbrightness.example'
include ':app'
includeBuild('../node_modules/@react-native/gradle-plugin')

// Prevent React plugin from generating codegen for parent library
gradle.beforeProject { project ->
    if (project.path == ':react-native-nitro-screen-brightness') {
        project.ext.react = [
            codegenDir: project.file("../../example/node_modules/@react-native/codegen"),
            libraryName: "NitroScreenBrightness",
            codegenJavaPackageName: "com.margelo.nitro.nitroscreenbrightness",
            codegenConfig: [:] // Empty config prevents codegen
        ]
    }
}
